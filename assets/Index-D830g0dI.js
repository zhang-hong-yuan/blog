import{k as V,g as N,w as I,a as W,f as A,o as v,h as H,B as k,c as y,m as h,H as M,L as p,Z as R,n as j,a3 as P,F as z,q as F,E as q,j as $,T as K,ao as O,e as f,as as U,a4 as T,a7 as L}from"./@vue-DejhS5Sx.js";import{I as Z,T as G}from"./@arco-design-CcQ42w85.js";import{_ as J,a as Q}from"./index-C58PDwY0.js";import X from"./Index--Z_-34Lr.js";import{a as Y,u as E}from"./vue-router-CTzOd6h0.js";import{_ as tt}from"./lodash-DBaaQlBN.js";import"./number-precision-BW_FzNZC.js";import"./element-plus-BrY0m-Us.js";import"./@vueuse-DG8PRMz9.js";import"./@element-plus-BIOyB9cn.js";import"./lodash-es-CapuB_Of.js";import"./@popperjs-Be9rlJlp.js";import"./hammerjs-uHrd7ah6.js";import"./@babel-Cpj98o6Y.js";import"./pinia-B7SS5Sce.js";import"./naive-ui-DvnQ8VCf.js";import"./seemly-BiqVPN66.js";import"./date-fns-x7VUUoCw.js";import"./evtd-CI_DDEu_.js";import"./vooks-BvrI42AR.js";import"./vueuc-DNxWDit6.js";import"./@css-render-Wpowbghw.js";import"./css-render-Ct37b3-v.js";import"./@emotion-WldOFDRm.js";import"./vdirs-DL8EOfHr.js";import"./@juggle-C8OzoCMD.js";import"./jquery-awXEzGOF.js";import"./prismjs-Cy_Hpibq.js";import"./primevue-C3o8vU3d.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";/* empty css                  *//* empty css                    */const et={key:0,class:"contents"},ot=["innerHTML"],rt={__name:"contents",setup(B){const b=Q(X),S=Y(),x=E().fullPath.split("/")[1],_=[];S.getRoutes().forEach(e=>{e.path.split("/").length===3&&e.path.split("/")[1]===x&&_.push(e.path.split("/")[2])});const n=V(""),C=N().appContext.config.globalProperties;I(()=>C.navs.contents,e=>{e&&(n.value="")});let s="",l=null;const c=W(()=>n.value?(s="expanded-keys",l=_,i(n.value)):(s="",b));function i(e){const t=m=>{const d=[];return m.forEach(u=>{if(u.title.toLowerCase().indexOf(e.toLowerCase())>-1)d.push({...u});else if(u.children){const a=t(u.children);a.length&&d.push({...u,children:a})}}),d};return t(b)}return(e,t)=>{const m=Z,d=A("router-link"),u=G;return v(),H(K,{name:"animate__animated animate__bounce","enter-active-class":"animate__fadeInLeft","leave-active-class":"animate__fadeOutLeft"},{default:k(()=>[e.navs.contents?(v(),y("nav",et,[h(m,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=a=>n.value=a)},null,8,["modelValue"]),h(u,M({data:c.value,"show-line":!0,"block-node":!0,"action-on-node-click":"expand",[p(s)]:p(l),["onUpdate:"+p(s)]:t[2]||(t[2]=a=>R(l)?l.value=a:l=a),"default-expanded-keys":[e.$route.fullPath.split("/")[2]]}),{title:k(({title:a,key:o,classes:r})=>[h(d,{class:j(r),to:o,onClick:t[1]||(t[1]=P(()=>{},["stop"]))},{default:k(()=>[n.value===""?(v(),y(z,{key:0},[F(q(a),1)],64)):(v(),y("span",{key:1,innerHTML:a.replaceAll(n.value,"<mark>$&</mark>")},null,8,ot))]),_:2},1032,["class","to"])]),_:1},16,["data","default-expanded-keys"])])):$("",!0)]),_:1})}}},nt=J(rt,[["__scopeId","data-v-c7906a10"]]),at={id:"vocabulary_layout"},st={id:"___Vocabulary___"},lt=["onClick"],ct=["onClick"],jt={__name:"Index",setup(B){const b=E();I(()=>b.fullPath.split("/")[2],S,{immediate:!0});function S(){setTimeout(()=>{const s=document.querySelectorAll("main#___Vocabulary___ div.word button.major");document.querySelectorAll("menu#vocabulary_menu > li > button").forEach(c=>{const i=Array.from(s).findIndex(e=>e.textContent===c.textContent);c.parentNode.style.order=i}),_()},888)}const w=V("scroll");function x(s){if(s.target.tagName!=="BUTTON")return;w.value="",setTimeout(()=>w.value="scroll",888),document.querySelectorAll("menu#vocabulary_menu > li").forEach(t=>t.classList.remove("activeWord")),s.target.parentNode.classList.add("activeWord");const c=document.querySelectorAll("main#___Vocabulary___ div.word"),i=Array.from(c).find(t=>t.querySelector("button.major").textContent===s.target.innerText);document.querySelector("#vocabulary_layout > article").scrollTo({top:i.offsetTop-30,left:0,behavior:"smooth"})}const _=tt.throttle(C,16),n=window.innerHeight;function C(){document.querySelectorAll("div.word video").forEach(o=>{const r=o.getBoundingClientRect();(r.top<0||r.bottom>n)&&o.pause()}),document.querySelectorAll("div.word").forEach(o=>{const r=o.getBoundingClientRect();let g=0;r.top>0&&r.bottom<n||r.top<0&&r.bottom>n?g=n:r.top>0&&r.top<n&&r.bottom>n?g=n-r.top:r.bottom>0&&r.bottom<n&&r.top<0&&(g=r.bottom);const D=Math.floor(g);o.dataset.showSizeInt=D});const c=document.querySelectorAll("div.word"),i=Array.from(c),e=i.map(o=>o.dataset.showSizeInt),t=Math.max(...e),m=i.find(o=>o.dataset.showSizeInt>=t);let d=m?m.querySelector("button.major"):document.querySelector("main#___Vocabulary___ div.word button.major");document.querySelectorAll("menu#vocabulary_menu > li").forEach(o=>{o.classList.remove("activeWord"),o.textContent===d.textContent&&o.classList.add("activeWord")});const a=document.querySelector("menu#vocabulary_menu > li.activeWord");a&&a.scrollIntoView({behavior:"smooth",block:"center"})}return(s,l)=>{const c=A("router-view"),i=A("flip"),e=O("replace");return v(),y(z,null,[h(p(nt)),f("div",at,[f("aside",null,[f("menu",{id:"vocabulary_menu",onClick:x})]),f("article",{[U(p(w))]:l[0]||(l[0]=(...t)=>p(_)&&p(_)(...t))},[T((v(),y("main",st,[h(c)])),[[e]]),h(i,{class:"noAnki"},{default:k(({prev:t,next:m,prevShow:d,nextShow:u,prevTitle:a,nextTitle:o})=>[T(f("button",{onClick:t,class:"btn prev"},q(a),9,lt),[[L,d]]),T(f("button",{onClick:m,class:"btn next"},q(o),9,ct),[[L,u]])]),_:1})],16)])],64)}}};export{jt as default};
